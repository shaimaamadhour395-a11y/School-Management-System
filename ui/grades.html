<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Grades</title>
    <style>
        body { font-family:Arial; background:#f4f6f9; padding:20px; }
        table { border-collapse: collapse; width:80%; margin:auto; }
        th, td { border:1px solid #ccc; padding:10px; text-align:center; }
        th { background:#1e3c72; color:white; }
        button { padding:5px 10px; margin:2px; border:none; background:#2a5298; color:white; border-radius:5px; cursor:pointer; }
        button:hover { background:#16325c; }
        h1 { color:#1e3c72; text-align:center; }
        form { text-align:center; margin-top:20px; }
        select, input { padding:5px; margin:5px; }
    </style>
</head>
<body>

<h1>Grades Management</h1>

<table>
    <tr>
        <th>Student</th>
        <th>Subject</th>
        <th>Grade</th>
        <th>Actions</th>
    </tr>
    {% for g in grades %}
    <tr>
        <td>{{ g['student'] }}</td>
        <td>{{ g['subject'] }}</td>
        <td>{{ g['grade'] }}</td>
        <td>
            <button onclick="window.location.href='/edit_grade/{{ g['id'] }}'">Edit</button>
            <button onclick="window.location.href='/delete_grade/{{ g['id'] }}'">Delete</button>
        </td>
    </tr>
    {% endfor %}
</table>

<h2>Add Grade</h2>
<form method="POST" action="/add_grade">
    <label>Student:</label>
    <select name="student_id">
        {% for s in students %}
        <option value="{{ s['id'] }}">{{ s['name'] }}</option>
        {% endfor %}
    </select>
    <label>Subject:</label>
    <select name="subject_id">
        {% for sub in subjects %}
        <option value="{{ sub['id'] }}">{{ sub['name'] }}</option>
        {% endfor %}
    </select>
    <label>Grade:</label>
    <input type="number" name="grade" step="0.01" required>
    <button type="submit">Add</button>
</form>

<p style="text-align:center;"><a href="/">Back to Home</a></p>

</body>
</html>